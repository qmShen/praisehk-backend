{"version":3,"sources":["webpack:///./src/components/map/Map.js","webpack:///./src/service/dataService.js","webpack:///./src/service/pipeService.js","webpack:///src/components/map/AQMap.vue","webpack:///./src/components/map/AQMap.vue?febc","webpack:///./src/components/map/AQMap.vue","webpack:///src/components/map/MeteMap.vue","webpack:///./src/components/map/MeteMap.vue?8c72","webpack:///./src/components/map/MeteMap.vue","webpack:///./src/components/feature/BrushPannel.js","webpack:///src/components/feature/BrushPannel.vue","webpack:///./src/components/feature/BrushPannel.vue?25c3","webpack:///./src/components/feature/BrushPannel.vue","webpack:///./src/components/statistics/Statistics.vue?a773","webpack:///./src/components/statistics/Statistics.vue","webpack:///src/components/statistics/Statistics.vue","webpack:///./src/components/feature/FeatureHeatmap.js","webpack:///src/components/feature/FeatureHeatmap.vue","webpack:///./src/components/feature/FeatureHeatmap.vue?1ef7","webpack:///./src/components/feature/FeatureHeatmap.vue","webpack:///./src/components/feature/linechart.js","webpack:///src/components/feature/TargetFeatureValue.vue","webpack:///./src/components/feature/TargetFeatureValue.vue?4c1d","webpack:///./src/components/feature/TargetFeatureValue.vue","webpack:///src/components/MainView.vue","webpack:///./src/components/MainView.vue?ed19","webpack:///./src/components/MainView.vue","webpack:///src/App.vue","webpack:///./src/App.vue?0ad0","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["HongKongStationList","Map","el","el_svg","ceneterLoc","featureType","_this2","this","map","L","zoomControl","setView","loc","tileLayer","maxZoom","id","addTo","circle","color","fillColor","fillOpacity","svg","d3","signLoadData","initializeVisualization","HongKongSatationIdMap","forEach","d","prototype","focus","getZoom","update_visualization","mouseoverCircle","msg","showAQCMAQ","showMeteWRF","setCurrentTimestamp","mouseoutCircle","aqSizeScale","domain","range","val","Math","sqrt","windScale","timestamp","undefined","timeStationMapAQ","timeStationMapCMAQ","AQData","CMAQData","idMap","visualizeCMAQAQunit","valid","on","func","clickOnStation","loadStations","stations","_this3","latLngToContainerPoint","latitude","longitude","stationsContainers","selectAll","data","enter","append","attr","each","WindLines","style","WindWRFLines","WindArcs","e","size","legend","xLabel","text","yCircle","xCircle","action_type","_this4","zoomLevel","r","visualize_unit","x","y","container","select","loadAQFeatureValue","start_time","Date","t","key","console","log","loadCMAQValue","aqValue","CMAQValue","strokeColor","transition","circleElement","parentNode","appendChild","loadWindValue","timeStationMapWind","loadWindDirValue","timeStationMapWindDir","loadWindWRFValue","timeStationMapWindWRF","loadWindDirWRFValue","timeStationMapWindDirWRF","WindData","WindDirData","WindWRFData","WindDirWRFData","visualizeWindDirUnit","visualizeNothing","arc","outerRadius","innerRadius","startAngle","endAngle","windData","windDirData","windWRFData","windDirWRFData","lWRF","lWind","_windDir","_windWRFDir","_startAngle","_endAngle","outer","inner","PI","l","radius","direction_pi","_","cos","sin","Vue","use","VueResource","dataServerUrl","$http","http","dataService","loadRegions","callback","url","get","then","response","errResponse","loadFeatureData","param","post","loadCMAQOBSData","station_id","loadAQStations","loadMeteStations","loadFeatureValue","loadModelValue","loadMeanError","pipeService","SELECTEDSCATTER","SEQUENCESELECTED","SUBGROUPSELECTED","SELECTEDINIDIVUDUAL","MOUSEOVERINDIVIDUAL","CHECKINDIVIDUAL","MOUSEOVERFEATUREIMPORTANCE","TIMERANGESELECTED","methods","emitSelectedScatterPlot","$emit","onSelectedScatterPlot","$on","emitSequenceSelected","onSequenceSelected","emitSubgroupSelected","onSubgroupSelected","emitCheckIndividual","onCheckIndividual","emitMouseoverFeature","onMouseoverFeature","emitSelectedIndividuals","onSelectedIndividuals","emitMouseOverCell","onMouseOverCell","emitTimeRangeSelected","onTimeRangeSelected","AQMap","name","props","station","station_name","location","type","loading","mounted","_this","handler","map_Map","centerLoc","service_pipeService","watch","new_stations","new_data","AQFeatureValue","CMAQFeatureValue","currentTime","map_AQMap","render","_h","$createElement","_c","_self","staticClass","staticStyle","display","position","_v","height","width","attrs","left","top","pointer-events","z-index","staticRenderFns","components_map_AQMap","__webpack_require__","normalizeComponent","ssrContext","MeteMap","WindFeatureValue","WindWRFFeatureValue","WindDirFeatureValue","WindDirWRFFeatureValue","map_MeteMap","components_map_MeteMap","MeteMap_normalizeComponent","dateToSecs","date","parseInt","getTime","BrushPannel","$el","svgWidth","clientWidth","svgHeight","clientHeight","margin","bottom","right","canvas","context","colors","render_error","mean_error","document","getElementById","getContext","error_width","error_height","colorScale","fakedata","Array","i","drawRect","txc","w","h","beginPath","moveTo","lineTo","closePath","fillStyle","fill","brushEnd","initTimeBrush","startTimestamp","endTimestamp","dateRange","xScale","brush","extent","sourceEvent","filter_range","selection","invert","call","move","xAxis","scale","components_feature_BrushPannel","featureValues","feature_BrushPannel","handleBrushEnd","timerange","selectortype_template_index_0_src_components_feature_BrushPannel","_t","src_components_feature_BrushPannel","BrushPannel_normalizeComponent","components_statistics_Statistics","_m","src_components_statistics_Statistics","Statistics_normalizeComponent","weekDay","HongKongStationMap","FeatureHeatmap","featureObj","update","length","_item","station_list","HongKongStation","OtherStation","push","concat","feature","valueArray","renderHeatmap","stationTimeMap","stationMap","rowHeight","unitWidth","remove","rowContainer","gap","renderList","_maxArray","timeRange","stationId","row_i","_container","cell_containers","col_j","rects","month","day","hour","value","getMonth","getDate","getHours","getFullYear","getDay","mouseover","mouseout","click","HightLightRowRect","HightLightColumnRect","blueColor","yellowColor","redColor","gradientLegendGroup","gradientLegend","height2","gradientLegendScale","gradientLegendAxis","ticks","onMouseInter","dataObj","updateByTimeRange","components_feature_FeatureHeatmap","item","feature_FeatureHeatmap","handleMouseover","handleMouseout","handleMouseClick","selectortype_template_index_0_src_components_feature_FeatureHeatmap","_s","src_components_feature_FeatureHeatmap","FeatureHeatmap_normalizeComponent","BrushLineChart","set_currentTIme","setTimeRange","xExtent","time","tickFormat","yMax","val_aq","val_cmaq","yScale","yAxis","cmaq_line","cmaq_contaienr","obs_container","currentTimeLine","setData","TargetFeatureValue","LineChart","linechart","queryModelObs","feature_TargetFeatureValue","MainView","AQStations","meteStations","AQMapLoading","MeteMapLoading","FeatureValueLoading","AQDataN","MeteDataN","timeHandler","buttonDisable","mapReadyN","dialogVisible","username","para","startTime","endTime","ids","n","playAnimation","setInterval","clearInterval","stopAnimation","handleClose","done","$confirm","catch","components","Statistics","TargetFeatureValue_normalizeComponent","components_MainView","_vm","gutter","span","directives","rawName","expression","element-loading-text","element-loading-background","font-size","icon","disabled","plain","_l","title","center","visible","before-close","update:visible","$event","margin-top","placeholder","model","$$v","slot","App","MainView_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Router","router","routes","path","config","productionTip","ElementUI","locale","template"],"mappings":"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","file":"static/js/app.2f1e9f3f65da634ea0a0.js","sourcesContent":["/**\n * Created by qshen on 15/8/2019.\n */\n\nimport L from \"leafLet\"\nimport * as d3 from \"d3\";\nimport 'leaflet/dist/leaflet.css'\nlet HongKongStationList = [67, 68, 70, 74, 77, 78, 79, 80, 81, 82, 83, 84, 85, 87, 89, 90];\nlet Map = function(el, el_svg, ceneterLoc, featureType) {\n  // console.log('leaflet', leaflet)\n  this.map = L.map(el, { zoomControl:false }).setView(ceneterLoc.loc, 9);\n  this.featureType = featureType;\n  L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {\n    maxZoom: 24,\n    id: 'mapbox.light'\n  }).addTo(this.map);\n\n  L.circle(ceneterLoc.loc, 100, {\n    color: 'steelblue',\n    fillColor: '#f03',\n    fillOpacity: 0.5\n  }).addTo(this.map);\n\n  this.svg = d3.select('#' + el_svg);\n  this.signLoadData = false;\n  this.initializeVisualization();\n\n  this.HongKongSatationIdMap = {};\n  if(this.featureType == \"AQ\"){\n    HongKongStationList.forEach(d=>{\n      this.HongKongSatationIdMap[d] = true\n    })\n  }\n};\n\nMap.prototype.focus = function(loc){\n  this.map.setView(loc, this.map.getZoom());\n  this.update_visualization();\n};\n\nMap.prototype.mouseoverCircle = function(msg){\n  if(this.featureType == 'AQ'){\n    this.showAQCMAQ(msg);\n  }else if(this.featureType == 'Mete'){\n    this.showMeteWRF(msg);\n  }\n};\n\nMap.prototype.setCurrentTimestamp = function(msg){\n  // if(this.signLoadData == false){\n  //   console.log('No data initialized');\n  //   return\n  // }\n  if(this.featureType == 'AQ'){\n    this.showAQCMAQ(msg);\n  }else if(this.featureType == 'Mete'){\n    this.showMeteWRF(msg);\n  }\n\n};\nMap.prototype.mouseoutCircle = function(msg){\n  // if(this.idMap[msg.stationId]){\n  //   d3.select(this.idMap[msg.stationId]['render']['stationCircle']).attr('stroke', 'none')\n  // }\n};\nMap.prototype.initializeVisualization = function(){\n  let aqSizeScale = d3.scaleLinear().domain([0, 150]).range([0, 400]);\n  this.aqSizeScale = function(val){\n    return Math.sqrt(aqSizeScale(val))\n  };\n  let windScale = d3.scaleLinear().domain([0, 10]).range([0, 70]);\n  this.windScale = windScale;\n  // this.windScale = function(val){\n  //   return Math.sqrt(windScale(val))\n  // };\n};\nMap.prototype.showAQCMAQ = function(msg){\n  let timestamp = msg['timestamp'];\n  if(this.timeStationMapAQ == undefined ||this.timeStationMapCMAQ == undefined){\n    return;\n  }\n  let AQData = this.timeStationMapAQ[timestamp];\n  let CMAQData = this.timeStationMapCMAQ[timestamp];\n  if(AQData == undefined || CMAQData == undefined){\n    return\n  }\n  for(let id in this.idMap){\n    this.visualizeCMAQAQunit(id, AQData[id], CMAQData[id]);\n  }\n};\n\nlet valid = function(d){\n  if(d != undefined && d != null && d != 'null'){\n    return true\n  }else{\n    return false\n  }\n};\n\nMap.prototype.on = function(msg, func){\n  if(msg == 'click'){\n    this.clickOnStation = func;\n  }\n};\n\nMap.prototype.loadStations = function(stations){\n  /*\n  * Load air quality station information\n  * Parameters:\n  * stations: List[{latitude, longitude, id}]\n  * */\n  let _this = this;\n  this.stations = stations;\n  /*\n  * idMap: station_id => station data\n  * loc.render: the visual element(leaflet or d3 element)\n  * */\n  this.idMap = {};\n  this.stations.forEach(d=>{\n    if(d['render'] == undefined){\n      d['render'] = {};\n    }\n    d['render']['screen_loc'] = this.map.latLngToContainerPoint([d.latitude, d.longitude]);\n    this.idMap[d.id] = d;\n  });\n\n  /*\n  * Initialize the svg elements\n  * */\n  this.stationsContainers = this.svg.selectAll('.station_point').data(this.stations).enter().append('g').attr('class', 'station_point');\n  this.stationsContainers.each(function(d){\n    d['render']['svg_container'] = this;\n  });\n\n  let color = this.featureType == 'AQ'? '#ff5b0d': \"#2ca25f\";\n  this.color = color;\n\n  let stationCircles = this.stationsContainers.append('circle')\n    .attr('fill', color).attr('fill-opacity', 0.4)\n    .attr('stroke', color)\n    .attr('stroke-width', 1);\n  stationCircles.each(function(d){\n    d['render']['stationCircle'] = this;\n  });\n\n\n  if(this.featureType == 'AQ'){\n    let CMAQCircles = this.stationsContainers.append('circle').attr('class', 'CMAQCircles').attr('r', 0)\n      .attr('fill', '#479886').attr('stroke', '#479886').attr('stroke-width', 0.5).attr('stroke', 'white')\n    CMAQCircles.each(function(d){\n      d['render']['CMAQCircle'] = this;\n    });\n    let AQCircles = this.stationsContainers.append('circle').attr('class', 'AQCircles').attr('r', 0)\n      .attr('fill', '#d77451').attr('stroke', '#d77451').attr('stroke-width', 0.5).attr('stroke', 'white')\n    AQCircles.each(function(d){\n      d['render']['AQCircle'] = this;\n    });\n  }else if(this.featureType == 'Mete'){\n    let WindLines = this.stationsContainers.append(\"line\")\n      .style(\"stroke\", '#d77451').attr('stroke-width', 1.7)\n      .attr(\"x1\", 0).attr(\"y1\",0).attr(\"x2\", 0).attr(\"y2\", 0);\n\n    let WindWRFLines = this.stationsContainers.append(\"line\")\n      .style(\"stroke\", '#479886').attr('stroke-width', 1.7)\n      .attr(\"x1\", 0).attr(\"y1\",0).attr(\"x2\", 0).attr(\"y2\", 0);\n\n    let WindArcs = this.stationsContainers.append(\"path\").attr('fill', 'none').attr('stroke', 'grey');\n    WindLines.each(function(d){\n      d['render']['WindLine'] = this;\n    });\n    WindWRFLines.each(function(d){\n      d['render']['WindWRFLine'] = this;\n    });\n    WindArcs.each(function(d){\n      d['render']['WindArc'] = this;\n    });\n  }\n\n\n  /*\n  * Initialize visualization, by the initial center and scale\n  * */\n  this.update_visualization();\n  /*\n  * Update the visualization, when the center and scale of map are changed\n  * */\n  this.map.on('move', (e)=>{\n    // this.previousZoomLevel = this.zoomLevel\n    this.update_visualization();\n  });\n  if(this.featureType == 'AQ'){\n    let valuesToShow = [10, 50, 150];\n    let size = this.aqSizeScale;\n    let xCircle = 30;\n    let yCircle = 30;\n    let xLabel = 60;\n\n    // Add legend: circles\n    this.legend = this.svg.selectAll('.legendAQ').data(valuesToShow).enter().append('g').attr('class', 'legendAQ');\n    this.legend.append('circle')\n      .attr(\"cx\", xCircle).attr(\"cy\", yCircle).attr(\"r\", size)\n      .attr('fill', 'None').attr('stroke', 'grey').attr('stroke-width', 1.5)\n\n    // Add legend: segments\n    this.legend.append(\"line\")\n      .attr('x1', xCircle).attr('x2', xLabel).attr('y1', function(d){ return yCircle - size(d) }).attr('y2', function(d){ return yCircle - size(d) })\n      .attr('stroke', 'black').style('stroke-dasharray', ('2,2'));\n\n    // Add legend: labels\n    this.legend.append(\"text\")\n      .attr('x', xLabel + 2).attr('y', function(d){ return yCircle - size(d) })\n      .text(function(d){ return d }).style(\"font-size\", 10).attr('alignment-baseline', 'middle');\n  }else if (this.featureType == 'Mete') {\n    let valuesToShow = [5, 10, 15];\n    let size = this.windScale;\n    let xCircle = 10;\n    let yCircle = 15;\n\n    // Add legend: line\n    this.legend = this.svg.selectAll('.legend').data(valuesToShow).enter().append('g').attr('class', 'legend');\n    this.legend.append(\"line\")\n      .attr('x1', xCircle).attr('x2', function(d){ return xCircle + size(d) }).attr('y1', yCircle).attr('y2', yCircle)\n      .attr('stroke', 'grey').attr('stroke-width', 1.7);\n    this.legend.append(\"line\")\n      .attr('x1', function(d){ return xCircle + size(d) }).attr('x2', function(d){ return xCircle + size(d) })\n      .attr('y1', yCircle).attr('y2', yCircle - 5)\n      .attr('stroke', 'grey').attr('stroke-width', 1);\n\n    // Add legend: labels\n    this.legend.append(\"text\")\n      .attr('x', function(d){return xCircle - 5 + size(d)}).attr('y', yCircle - 10)\n      .text(function(d){ return d }).style(\"font-size\", 10).attr('alignment-baseline', 'middle');\n  }\n};\n\n\nMap.prototype.update_visualization = function(action_type) {\n  /*\n  * Update the visual encoding map scale and center location\n  * */\n  this.zoomLevel = this.map.getZoom();\n  let max_r = 30;\n  let min_r = 1;\n  let r = 0;\n  if(this.zoomLevel > 11){\n    r = max_r;\n  }else{\n    r = (max_r - min_r) / (11 - 1) * this.zoomLevel / 6;\n  }\n  this.stations.forEach(d=>{\n    // Calculate the screen coordinate by map latlng to x, y\n    d['render']['screen_loc'] = this.map.latLngToContainerPoint([d.latitude, d.longitude]);\n    this.visualize_unit(d['render']['svg_container'], r, action_type);\n  });\n  this.stationsContainers.attr('transform', d=>'translate(' + [d['render']['screen_loc'].x, d['render']['screen_loc'].y] + ')');\n};\n\nMap.prototype.visualize_unit = function(container, r, action_type){ //this.color\n  let _container = d3.select(container);\n  _container.select('circle').attr('r', 2).attr('class', 'station').attr('fill', 'none').attr('opacity', 0.4);\n};\n\n\n\nMap.prototype.loadAQFeatureValue = function(data){\n  let start_time = new Date();\n  let timeStationMapAQ = {};\n  data.forEach(function(d){\n    let t = d['timestamp'];\n    if(timeStationMapAQ[t] == undefined || timeStationMapAQ[t] == null || timeStationMapAQ[t] == \"null\" ){\n      timeStationMapAQ[t] = {}\n    }\n    for(let key in d){\n      let val = d[key];\n      timeStationMapAQ[t][key] = val;\n    }\n  });\n  this.timeStationMapAQ = timeStationMapAQ;\n  console.log('AQ Feature Value', new Date() - start_time);\n};\n\nMap.prototype.loadCMAQValue = function(data){\n  let start_time = new Date();\n  let timeStationMapCMAQ = {};\n  data.forEach(function(d){\n    let t = d['timestamp'];\n    if(timeStationMapCMAQ[t] == undefined || timeStationMapCMAQ[t] == null || timeStationMapCMAQ[t] == \"null\" ){\n      timeStationMapCMAQ[t] = {}\n    }\n    for(let key in d){\n      let val = d[key];\n      timeStationMapCMAQ[t][key] = val;\n    }\n  });\n  this.timeStationMapCMAQ = timeStationMapCMAQ;\n  console.log('AQ CMAQ Value', new Date() - start_time);\n};\n/*\n* Used in the air quality map\n*\n* */\nMap.prototype.visualizeCMAQAQunit = function(id, aqValue, CMAQValue){\n\n  let container = d3.select(this.idMap[id]['render']['svg_container']);\n\n  let strokeColor = (valid(aqValue) == true && valid(CMAQValue) == true) ? \"white\": \"black\";\n  if(aqValue != undefined && aqValue != null && aqValue != 'null'){\n\n    let element = d3.select(this.idMap[id]['render']['AQCircle']);\n\n    element.transition().attr('r', this.aqSizeScale(aqValue)).attr('stroke', strokeColor);//.attr('fill', '#d77451').attr('stroke', '#d77451')\n    let circleElement = this.idMap[id]['render']['AQCircle'];\n    if(valid(CMAQValue) && aqValue < CMAQValue){\n      circleElement.parentNode.appendChild(circleElement);\n    }\n  }else{\n    d3.select(this.idMap[id]['render']['AQCircle']).attr('r', 0).attr('stroke-width', 1);\n  }\n  if(CMAQValue != undefined && CMAQValue != null && CMAQValue != 'null'){\n    let element = d3.select(this.idMap[id]['render']['CMAQCircle']);\n    element.transition().attr('r', this.aqSizeScale(CMAQValue)).attr('stroke', strokeColor)//.attr('fill', '#479886').attr('stroke', '#479886')\n    let circleElement = this.idMap[id]['render']['CMAQCircle'];\n    if(valid(CMAQValue) && aqValue > CMAQValue){\n      circleElement.parentNode.appendChild(circleElement);\n    }\n  }else{\n    d3.select(this.idMap[id]['render']['CMAQCircle']).attr('r', 0).attr('stroke-width', 1);\n  }\n};\n\n\nMap.prototype.loadWindValue = function(data){\n  let start_time = new Date();\n  let timeStationMapWind = {};\n  data.forEach(function(d){\n    let t = d['timestamp'];\n    if(!valid(timeStationMapWind[t])){\n      timeStationMapWind[t] = {}\n    }\n    for(let key in d){\n      let val = d[key];\n      timeStationMapWind[t][key] = val;\n    }\n  });\n  this.timeStationMapWind = timeStationMapWind;\n  console.log('Wind Feature Value', new Date() - start_time);\n};\n\nMap.prototype.loadWindDirValue = function(data){\n  let start_time = new Date();\n  let timeStationMapWindDir = {};\n  data.forEach(function(d){\n    let t = d['timestamp'];\n    if(!valid(timeStationMapWindDir[t])){\n      timeStationMapWindDir[t] = {}\n    }\n    for(let key in d){\n      let val = d[key];\n      timeStationMapWindDir[t][key] = val;\n    }\n  });\n  this.timeStationMapWindDir = timeStationMapWindDir;\n  console.log('WindDir Feature Value', new Date() - start_time);\n};\n\nMap.prototype.loadWindWRFValue = function(data){\n  let start_time = new Date();\n  let timeStationMapWindWRF = {};\n  data.forEach(function(d){\n    let t = d['timestamp'];\n    if(!valid(timeStationMapWindWRF[t])){\n      timeStationMapWindWRF[t] = {}\n    }\n    for(let key in d){\n      let val = d[key];\n      timeStationMapWindWRF[t][key] = val;\n    }\n  });\n  this.timeStationMapWindWRF = timeStationMapWindWRF;\n  console.log('WindWRF Feature Value', new Date() - start_time);\n};\n\nMap.prototype.loadWindDirWRFValue = function(data){\n  let start_time = new Date();\n  let timeStationMapWindDirWRF = {};\n  data.forEach(function(d){\n    let t = d['timestamp'];\n    if(!valid(timeStationMapWindDirWRF[t])){\n      timeStationMapWindDirWRF[t] = {}\n    }\n    for(let key in d){\n      let val = d[key];\n      timeStationMapWindDirWRF[t][key] = val;\n    }\n  });\n  this.timeStationMapWindDirWRF = timeStationMapWindDirWRF;\n  console.log('WindDirWRF Feature Value', new Date() - start_time);\n};\n\n\nMap.prototype.showMeteWRF = function(msg){\n  if(this.timeStationMapWind == undefined ||this.timeStationMapWindDir == undefined ||this.timeStationMapWindWRF == undefined ||this.timeStationMapWindDirWRF == undefined){\n    return\n  }\n  let timestamp = msg['timestamp'];\n  let WindData = this.timeStationMapWind[timestamp];\n  let WindDirData = this.timeStationMapWindDir[timestamp];\n  let WindWRFData = this.timeStationMapWindWRF[timestamp];\n  let WindDirWRFData = this.timeStationMapWindDirWRF[timestamp];\n  if(WindData == undefined || WindDirData == undefined || WindWRFData == undefined || WindDirWRFData == undefined){\n    // should render None\n    for(let id in this.idMap){\n      this.visualizeNothing(id);\n    }\n    return\n  }\n  for(let id in this.idMap){\n    this.visualizeWindDirUnit(id, WindData[id], WindDirData[id], WindWRFData[id], WindDirWRFData[id]);\n  }\n};\nMap.prototype.visualizeNothing = function(id){\n  let container = d3.select(this.idMap[id]['render']['svg_container']);\n  var arc = d3.arc()\n    .outerRadius(0)\n    .innerRadius(0)\n    .startAngle(0)\n    .endAngle(0);\n\n  d3.select(this.idMap[id]['render']['WindArc']).attr(\"d\", arc).attr('fill-opacity', 0).attr('stroke-opacity', 0);\n  d3.select(this.idMap[id]['render']['WindArc']).transition().attr('fill-opacity', 0.5).attr('stroke-opacity', 0.5);\n  d3.select(this.idMap[id]['render']['WindLine']).transition()\n    .attr(\"x1\", 0)\n    .attr(\"y1\", 0)\n    .attr(\"x2\", 0)\n    .attr(\"y2\", 0);\n\n  d3.select(this.idMap[id]['render']['WindWRFLine']).transition()\n    .attr(\"x1\", 0)\n    .attr(\"y1\",0)\n    .attr(\"x2\", 0 )\n    .attr(\"y2\", 0);\n\n};\nMap.prototype.visualizeWindDirUnit = function(id, windData, windDirData, windWRFData, windDirWRFData){\n  let container = d3.select(this.idMap[id]['render']['svg_container']);\n\n  //windData, windDirData, windWRFData, windDirWRFData\n  if(valid(windData) && valid(windDirData) && valid(windWRFData) && valid(windDirWRFData)){\n\n    d3.select(this.idMap[id]['render']['WindArc']);\n    let lWRF = this.windScale(windWRFData);\n    let lWind = this.windScale(windData);\n    let _windDir = (windDirData ) % 360;\n    let _windWRFDir = (windDirWRFData) % 360;\n    let _startAngle = null;\n    let _endAngle = null;\n\n    let outer = 0;\n    let inner = 0;\n    let color =  null;\n    if(lWRF > lWind){\n      outer = lWRF;\n      inner = lWind;\n      color = '#479886';\n    }else{\n      outer = lWind;\n      inner = lWRF;\n      color = '#d77451';\n    }\n\n    if(_windDir>_windWRFDir){\n      _startAngle = _windWRFDir;\n      _endAngle = _windDir;\n    }else{\n      _startAngle = _windDir;\n      _endAngle = _windWRFDir;\n    }\n\n    if(_endAngle - _startAngle > 180){\n      _endAngle = _endAngle - 360;\n    }\n    let startAngle = _startAngle  / 180 * Math.PI;\n    let endAngle = _endAngle  / 180 * Math.PI;\n\n    var arc = d3.arc()\n      .outerRadius(outer)\n      .innerRadius(inner)\n      .startAngle(startAngle)\n      .endAngle(endAngle);\n\n    d3.select(this.idMap[id]['render']['WindArc']).attr(\"d\", arc).attr('fill', color).attr('fill-opacity', 0).attr('stroke', color).attr('stroke-opacity', 0);\n    d3.select(this.idMap[id]['render']['WindArc']).transition().attr('fill-opacity', 0.5).attr('stroke-opacity', 0.5);\n\n\n    let l = this.windScale(windData);\n    let radius = l;\n\n    let direction_pi = (windDirData - 90)  / 180 * Math.PI;\n\n    d3.select(this.idMap[id]['render']['WindLine']).transition()\n      .attr(\"x1\", 0)\n      .attr(\"y1\",0)\n      .attr(\"x2\", _=>{\n        return 0 + radius * Math.cos(direction_pi)\n      })\n      .attr(\"y2\", 0 + radius * Math.sin(direction_pi))\n\n    l = this.windScale(windWRFData);\n    radius = l;\n    direction_pi = (windDirWRFData - 90) / 180 * Math.PI;\n    d3.select(this.idMap[id]['render']['WindWRFLine']).transition()\n      .attr(\"x1\", 0)\n      .attr(\"y1\",0)\n      .attr(\"x2\", 0 + radius * Math.cos(direction_pi))\n      .attr(\"y2\", 0 + radius * Math.sin(direction_pi))\n  }\n\n  // if(valid(windData) && valid(windDirData)){\n  //   let l = this.windScale(windData);\n  //   let radius = l;\n  //\n  //   let direction_pi = (windDirData + 90)  / 180 * Math.PI;\n  //\n  //   d3.select(this.idMap[id]['render']['WindLine']).transition()\n  //     .attr(\"x1\", 0)\n  //     .attr(\"y1\",0)\n  //     .attr(\"x2\", _=>{\n  //       return 0 + radius * Math.cos(direction_pi)\n  //     })\n  //     .attr(\"y2\", 0 + radius * Math.sin(direction_pi))\n  // }else{\n  // }\n  //\n  // if(valid(windWRFData) && valid(windDirWRFData)){\n  //   let l = this.windScale(windWRFData);\n  //   let radius = l;\n  //   let direction_pi = (windDirWRFData + 90) / 180 * Math.PI;\n  //   d3.select(this.idMap[id]['render']['WindWRFLine']).transition()\n  //     .attr(\"x1\", 0)\n  //     .attr(\"y1\",0)\n  //     .attr(\"x2\", 0 + radius * Math.cos(direction_pi))\n  //     .attr(\"y2\", 0 + radius * Math.sin(direction_pi))\n  // }else{\n  //\n  // }\n};\n\nexport default Map\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/map/Map.js","/**\r\n * Created by yiding on 2017/1/10.\r\n */\r\n\r\nimport Vue from 'vue'\r\nimport VueResource from 'vue-resource'\r\n\r\nVue.use(VueResource);\r\n\r\nlet dataServerUrl = \"http://127.0.0.1:9000\";\r\n// let dataServerUrl = \"/praise-hk\";\r\n// const dataServerUrl = \"/sv-analysis\";\r\n// const dataServerUrl = Config.serverLink == \"\"? \"\" : Config.serverLink.substring(0,  Config.serverLink.length - 1);\r\nconst $http = Vue.http;\r\n\r\n// function loadAQStations(callback){\r\n//   const url = `${dataServerUrl}/aq_stations`\r\n//   $http.get(url).then(response => {\r\n//     callback(response.data)\r\n//   }, errResponse => {\r\n//     console.log(errResponse)\r\n//   })\r\n// }\r\n\r\n\r\n\r\nfunction loadRegions(callback){\r\n  const url = `${dataServerUrl}/cmaq_region`\r\n  $http.get(url).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\n\r\nfunction loadFeatureData(param, callback){\r\n  const url = `${dataServerUrl}/feature_data`\r\n  $http.post(url, param).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\nfunction loadCMAQOBSData(station_id, callback){\r\n  const url = `${dataServerUrl}/load_cmaq_obs`\r\n  $http.post(url, {'station_id': station_id}).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\n//  Version 0 --------------------------\r\nfunction loadAQStations(callback){\r\n  const url = `${dataServerUrl}/aq_stations`\r\n  $http.get(url).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\nfunction loadMeteStations(callback){\r\n  const url = `${dataServerUrl}/mete_stations`\r\n  $http.get(url).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\nfunction loadFeatureValue(param, callback){\r\n  const url = `${dataServerUrl}/load_observation`\r\n  $http.post(url, param).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\n\r\nfunction loadModelValue(param, callback){\r\n  const url = `${dataServerUrl}/load_model_value`\r\n  $http.post(url, param).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\nfunction loadFeatureErrorValue(callback){\r\n  const url = `${dataServerUrl}/load_errors`\r\n  $http.get(url).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\nfunction loadMeanError(param, callback){\r\n  const url = `${dataServerUrl}/load_mean_error`\r\n  $http.post(url, param).then(response => {\r\n    callback(response.data)\r\n  }, errResponse => {\r\n    console.log(errResponse)\r\n  })\r\n}\r\n\r\n\r\nexport default{\r\n  loadRegions,\r\n  loadFeatureData,\r\n  loadCMAQOBSData,\r\n//  --------------------------\r\n  loadAQStations,\r\n  loadMeteStations,\r\n  loadFeatureValue,\r\n  loadModelValue,\r\n  loadMeanError\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/dataService.js","/**\r\n * Created by yiding on 2017/1/12.\r\n */\r\nimport Vue from 'vue'\r\n\r\nvar pipeService = new Vue({\r\n  data:{\r\n    SELECTEDSCATTER: 'select_scatter_plot',\r\n    SEQUENCESELECTED: 'sequence_selected',\r\n    SUBGROUPSELECTED: 'subgroup_selected',\r\n    SELECTEDINIDIVUDUAL: 'selected_indiviual_selected',\r\n\r\n    MOUSEOVERINDIVIDUAL: 'mosueover_individual',\r\n    CHECKINDIVIDUAL: 'check_individual',\r\n\r\n    MOUSEOVERFEATUREIMPORTANCE: 'mouseover_featureimportance_boxplot',\r\n    TIMERANGESELECTED : 'time_range_selected'\r\n\r\n  },\r\n\r\n  methods:{\r\n    emitSelectedScatterPlot: function(msg){\r\n      this.$emit(this.SELECTEDSCATTER, msg);\r\n    },\r\n    onSelectedScatterPlot: function(callback){\r\n      this.$on(this.SELECTEDSCATTER,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n    //------------------------------------------------------------\r\n    //This is for select cities\r\n    emitSequenceSelected: function(msg){\r\n      this.$emit(this.SEQUENCESELECTED, msg);\r\n    },\r\n    onSequenceSelected: function(callback){\r\n      this.$on(this.SEQUENCESELECTED,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n    //------------------------------------------------------------\r\n    //When a subgroup is selected in distribution view, emit this message\r\n    emitSubgroupSelected: function(msg){\r\n      this.$emit(this.SUBGROUPSELECTED, msg);\r\n    },\r\n    onSubgroupSelected: function(callback){\r\n      this.$on(this.SUBGROUPSELECTED,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n\r\n\r\n    //------------------------------------------------------------\r\n    //When an individual view is selected\r\n    // If msg is {'timestamp': timestamp, checked: 'true/false')\r\n\r\n    emitCheckIndividual: function(msg){\r\n      this.$emit(this.CHECKINDIVIDUAL, msg);\r\n    },\r\n    onCheckIndividual: function(callback){\r\n      this.$on(this.CHECKINDIVIDUAL,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n\r\n\r\n    //------------------------------------------------------------\r\n    //When an feature importance boxplot is hovered\r\n    //If msg is undefined(not set), remove the mouseover effect, if msg is timestamp, add mouseover effect\r\n    emitMouseoverFeature: function(msg){\r\n      this.$emit(this.MOUSEOVERFEATUREIMPORTANCE, msg);\r\n    },\r\n    onMouseoverFeature: function(callback){\r\n      this.$on(this.MOUSEOVERFEATUREIMPORTANCE,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    //Not used yet\r\n    //When a subgroup is selected in distribution view, emit this message\r\n    emitSelectedIndividuals: function(msg){\r\n      this.$emit(this.SELECTEDINIDIVUDUAL, msg);\r\n    },\r\n    onSelectedIndividuals: function(callback){\r\n      this.$on(this.SELECTEDINIDIVUDUAL,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n    //------------------------------------------------------------\r\n    //When a subgroup is selected in distribution view, emit this message\r\n    // If msg is {action: over/out, timestamp:000000, stationId:0}\r\n\r\n    emitMouseOverCell: function(msg){\r\n      this.$emit(this.MOUSEOVERINDIVIDUAL, msg);\r\n    },\r\n    onMouseOverCell: function(callback){\r\n      this.$on(this.MOUSEOVERINDIVIDUAL,function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n\r\n    //------------------------------------------------------------\r\n    //When time range in time series view is selected this will triger\r\n    //msg{start: sec, end: sec}\r\n    emitTimeRangeSelected: function(msg){\r\n      this.$emit(this.TIMERANGESELECTED, msg);\r\n    },\r\n    onTimeRangeSelected: function(callback){\r\n      this.$on(this.TIMERANGESELECTED, function(msg){\r\n        callback(msg);\r\n      })\r\n    },\r\n\r\n\r\n\r\n\r\n  }\r\n});\r\n\r\nexport default pipeService\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/pipeService.js","<template>\r\n  <!--<div style=\"display: block; position: relative\">-->\r\n  <!--<div style=\"height: 100%; width: 100%\" id='map_container'></div>-->\r\n  <!--<div style=\"position:absolute; left: 0px; top:0px; z-index: 999; font-size: 10px\" >Model Name: {{model_name}}</div>-->\r\n  <!--</div>-->\r\n  <div style=\"display: block; position: relative\" class=\"boundary\" >\r\n    <div class=\"mini_head\">Map</div>\r\n    <!--    <el-checkbox size=\"mini\">Match</el-checkbox> <el-checkbox size=\"mini\">Mete</el-checkbox> <el-checkbox size=\"mini\">AQ</el-checkbox>-->\r\n    <div style=\"height: calc(100%  - 20px); width: 100%; position: relative\">\r\n      <div style=\"height: 100%; width: 100%\" id='AQ_map_container'></div>\r\n      <svg style=\"height: 100%; width: 100%; position: absolute; left:0; top:0; pointer-events: none; z-index: 1000\" id=\"AQ_svg\"></svg>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import Map from './Map.js'\r\n    import dataService from '../../service/dataService.js'\r\n    import pipeService from '../../service/pipeService.js'\r\n\r\n    export default {\r\n        name: \"Map\",\r\n        props:['stations', 'centerLoc', 'AQFeatureValue', 'CMAQFeatureValue', 'currentTime'],\r\n        data() {\r\n            return {\r\n                featureType: 'AQ',\r\n                station: {\r\n                    'station_id': 'KC_A',\r\n                    'station_name': 'Kwai Chung ' + 'Station',\r\n                    'location':[22.3586, 114.1271]\r\n                },\r\n                type: 'AQ',\r\n                loading: false,\r\n\r\n            }\r\n        },\r\n        mounted: function(){\r\n            this.handler = new Map('AQ_map_container', 'AQ_svg', this.centerLoc,this.type);\r\n\r\n            pipeService.onMouseOverCell(msg=>{\r\n                if(msg['action'] == 'click'){\r\n                    this.handler.showAQCMAQ(msg);\r\n                    console.log('click')\r\n                }\r\n                else if(msg['action'] == 'over'){\r\n                    // this.handler.setCurrentTimestamp(msg);\r\n                }else if(msg['action'] == 'out'){\r\n                    // this.handler.mouseoutCircle(msg);\r\n                }\r\n            });\r\n\r\n        },\r\n        watch:{\r\n            stations:function(new_stations){\r\n                this.handler.loadStations(new_stations);\r\n            },\r\n            centerLoc: function(new_data){\r\n                this.handler.focus(new_data.loc)\r\n            },\r\n            AQFeatureValue: function(new_data){\r\n                this.handler.loadAQFeatureValue(new_data);\r\n            },\r\n            CMAQFeatureValue: function(new_data){\r\n                this.handler.loadCMAQValue(new_data);\r\n            },\r\n            currentTime: function(t){\r\n                this.handler.setCurrentTimestamp({'timestamp':t});\r\n            }\r\n        },\r\n        methods:{\r\n            clickOnStation(msg){\r\n                if(msg == undefined) return;\r\n                console.log('station click component', msg);\r\n            },\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/map/AQMap.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boundary\",staticStyle:{\"display\":\"block\",\"position\":\"relative\"}},[_c('div',{staticClass:\"mini_head\"},[_vm._v(\"Map\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"calc(100%  - 20px)\",\"width\":\"100%\",\"position\":\"relative\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"id\":\"AQ_map_container\"}}),_vm._v(\" \"),_c('svg',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"absolute\",\"left\":\"0\",\"top\":\"0\",\"pointer-events\":\"none\",\"z-index\":\"1000\"},attrs:{\"id\":\"AQ_svg\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6804130b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/map/AQMap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6804130b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AQMap.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AQMap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AQMap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6804130b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AQMap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/map/AQMap.vue\n// module id = null\n// module chunks = ","<template>\r\n  <!--<div style=\"display: block; position: relative\">-->\r\n  <!--<div style=\"height: 100%; width: 100%\" id='map_container'></div>-->\r\n  <!--<div style=\"position:absolute; left: 0px; top:0px; z-index: 999; font-size: 10px\" >Model Name: {{model_name}}</div>-->\r\n  <!--</div>-->\r\n  <div style=\"display: block; position: relative\" class=\"boundary\">\r\n    <div class=\"mini_head\">Mete Map</div>\r\n    <!--    <el-checkbox size=\"mini\">Match</el-checkbox> <el-checkbox size=\"mini\">Mete</el-checkbox> <el-checkbox size=\"mini\">AQ</el-checkbox>-->\r\n    <div style=\"height: calc(100%  - 20px); width: 100%; position: relative\">\r\n      <div style=\"height: 100%; width: 100%\" id='mete_map_container'></div>\r\n      <svg style=\"height: 100%; width: 100%; position: absolute; left:0; top:0; pointer-events: none; z-index: 1000\" id=\"mete_svg\"></svg>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import Map from './Map.js'\r\n    import dataService from '../../service/dataService.js'\r\n    import pipeService from '../../service/pipeService.js'\r\n    export default {\r\n        name: \"Map\",\r\n        props:['stations','centerLoc', \"WindFeatureValue\", \"WindWRFFeatureValue\", \"WindDirFeatureValue\",\"WindDirWRFFeatureValue\", 'currentTime'],\r\n        data() {\r\n            return {\r\n                featureType: 'Mete',\r\n                station: {\r\n                    'station_id': 'KC_A',\r\n                    'station_name': 'Kwai Chung ' + 'Station',\r\n                    'location':[22.3586, 114.1271]\r\n                },\r\n                type: 'Mete'\r\n            }\r\n        },\r\n        mounted: function(){\r\n            this.handler = new Map('mete_map_container', 'mete_svg', this.centerLoc, this.type);\r\n\r\n            pipeService.onMouseOverCell(msg=>{\r\n                if(msg['action'] == 'click'){\r\n                    // this.handler.showAQCMAQ(msg);\r\n                    // console.log('click')\r\n                }\r\n                else if(msg['action'] == 'over'){\r\n                    // this.handler.setCurrentTimestamp(msg);\r\n                }else if(msg['action'] == 'out'){\r\n                    // this.handler.mouseoutCircle(msg);\r\n                }\r\n            });\r\n            // this.handler.on('click', this.clickOnStation);\r\n            // pipeService.onMouseOverCell(msg=>{\r\n            //     if(msg['action'] == 'click'){\r\n            //         this.handler.focus(msg['stationId'])\r\n            //     }\r\n            // else if(msg['action'] == 'over'){\r\n            //     this.handler.highlightCircle(msg['stationId']);\r\n            // }else if(msg['action'] == 'out'){\r\n            //     this.handler.removeHighlightCircle(msg['stationId']);\r\n            // }\r\n            // })\r\n        },\r\n        watch:{\r\n            stations:function(new_stations){\r\n                this.handler.loadStations(new_stations);\r\n            },\r\n            centerLoc: function(new_data){\r\n                this.handler.focus(new_data.loc)\r\n            },\r\n            WindFeatureValue: function(new_data){\r\n                this.handler.loadWindValue(new_data);\r\n            },\r\n            WindWRFFeatureValue: function(new_data){\r\n                this.handler.loadWindWRFValue(new_data);\r\n            },\r\n            WindDirFeatureValue: function(new_data){\r\n                this.handler.loadWindDirValue(new_data);\r\n            },\r\n            WindDirWRFFeatureValue: function(new_data){\r\n                this.handler.loadWindDirWRFValue(new_data);\r\n            },\r\n            currentTime: function(t){\r\n                this.handler.setCurrentTimestamp({'timestamp':t});\r\n            }\r\n        },\r\n        methods:{\r\n            clickOnStation(msg){\r\n                if(msg == undefined) return;\r\n                console.log('station click component', msg);\r\n            },\r\n\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/map/MeteMap.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boundary\",staticStyle:{\"display\":\"block\",\"position\":\"relative\"}},[_c('div',{staticClass:\"mini_head\"},[_vm._v(\"Mete Map\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"calc(100%  - 20px)\",\"width\":\"100%\",\"position\":\"relative\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"id\":\"mete_map_container\"}}),_vm._v(\" \"),_c('svg',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"absolute\",\"left\":\"0\",\"top\":\"0\",\"pointer-events\":\"none\",\"z-index\":\"1000\"},attrs:{\"id\":\"mete_svg\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d267e56\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/map/MeteMap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d267e56\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MeteMap.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MeteMap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MeteMap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d267e56\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MeteMap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/map/MeteMap.vue\n// module id = null\n// module chunks = ","/**\r\n * Created by qshen on 17/9/2019.\r\n */\r\n\r\n\r\nimport * as d3 from \"d3\";\r\n\r\nlet globalStart = 1451739600;\r\nlet globalEnd = 1546261200;\r\n\r\nlet dateToSecs = function(date){\r\n  return parseInt(date.getTime() / 1000);\r\n};\r\nlet BrushPannel = function(el) {\r\n\r\n  this.$el = el;\r\n  this.svgWidth = this.$el.clientWidth ;\r\n  this.svgHeight = this.$el.clientHeight - 20;\r\n  this.margin = {'top': 20,'bottom': 20, 'left': 40, 'right':0};\r\n  this.svg = d3.select(el).append('svg')\r\n    .attr('width', this.svgWidth)\r\n    .attr('height', this.svgHeight)\r\n    .style('position', 'absolute');\r\n\r\n  this.canvas = d3.select(el).append('canvas')\r\n    .attr('width', this.svgWidth)\r\n    .attr('height', this.svgHeight)\r\n    .attr('id', 'error_canvas')\r\n\r\n\r\n  this.context = this.svg.append(\"g\").attr(\"class\", \"context\");\r\n\r\n\r\n\r\n};\r\n\r\nBrushPannel.prototype.colors = [\r\n  \"#ffffd9\", \"#edf8b1\", \"#c7e9b4\", \"#7fcdbb\",\r\n  \"#41b6c4\", \"#1d91c0\", \"#225ea8\", \"#253494\",\r\n  \"#081d58\"\r\n];\r\n\r\nBrushPannel.prototype.render_error = function(mean_error){\r\n  let domain = [0, 5, 10, 15, 20, 25, 30, 35, 40, 50]\r\n\r\n  let c=document.getElementById(\"error_canvas\");\r\n  let t = c.getContext('2d');\r\n\r\n  let n_time = (globalEnd - globalStart)/3600\r\n  let error_width = (this.svgWidth - this.margin.left)/n_time\r\n  let error_height = this.svgHeight - this.margin.bottom - this.margin.top\r\n\r\n  let colorScale = d3.scaleQuantile()\r\n    .domain(domain)\r\n    .range(this.colors);\r\n\r\n  let fakedata = new Array();\r\n  for(let i=0; i<n_time;i++){\r\n    fakedata[i] = i*100/n_time\r\n  }\r\n\r\n  for(let i=0;i<n_time;i++){\r\n    var fillColor = colorScale(mean_error[i]['error'])\r\n    drawRect(t,this.margin.left+error_width*i,this.margin.top,error_width,error_height,fillColor);\r\n  }\r\n\r\n  function drawRect(txc,x,y,w,h,fillColor) {\r\n      txc.beginPath();\r\n      txc.moveTo(x, y);\r\n      txc.lineTo(w + x, y);\r\n      txc.lineTo(w + x, h + y);\r\n      txc.lineTo(x, y + h);\r\n      txc.closePath();\r\n      txc.fillStyle = fillColor;\r\n      txc.fill();\r\n  }\r\n}\r\n\r\nBrushPannel.prototype.on = function(msg, func){\r\n  if(msg == 'brushEnd'){\r\n    this.brushEnd = func\r\n  }\r\n};\r\n\r\n\r\nBrushPannel.prototype.initTimeBrush = function(startTimestamp, endTimestamp){\r\n\r\n  let _this = this;\r\n  startTimestamp = startTimestamp == undefined? globalStart: startTimestamp;\r\n  endTimestamp = endTimestamp == undefined? globalEnd: endTimestamp;\r\n  let dateRange = [new Date(startTimestamp * 1000), new Date(endTimestamp * 1000)];\r\n  this.xScale = d3.scaleTime().range([0, this.svgWidth - this.margin.left]).domain(dateRange);\r\n  let xScale = this.xScale;\r\n\r\n\r\n  var brush = d3.brushX()\r\n    .extent([[0, 0], [this.svgWidth, this.svgHeight]])\r\n    .on(\"end\", brushed);\r\n\r\n  this.context.append(\"g\").attr('transform', 'translate(' + [this.margin.left, 0]+')')\r\n    .attr(\"class\", \"brush\")\r\n    .call(brush)\r\n    .call(brush.move, [0, this.svgWidth / 75]);\r\n\r\n\r\n  var xAxis = d3.axisBottom().scale(this.xScale);\r\n\r\n  this.context.append('g')\r\n    .attr('class', 'xAxis')\r\n    .call(xAxis)\r\n    .attr('transform', 'translate('+[this.margin.left, this.svgHeight - this.margin.bottom] +')');\r\n\r\n  function brushed() {\r\n    console.log('hereherehere');\r\n    if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"zoom\") return; // ignore brush-by-zoom\r\n    var s = d3.event.selection || _this.xScale.range();\r\n    let filter_range = s.map(xScale.invert, xScale);\r\n    _this.brushEnd([dateToSecs(filter_range[0]), dateToSecs(filter_range[1])])\r\n  }\r\n};\r\n\r\n// BrushPannel.prototype.setData = function(dataList){\r\n//   console.log('update data', dataList);\r\n//   let _this = this;\r\n//   let _timerange = [];\r\n//   dataList.forEach(featureValues=>{\r\n//     _timerange.push(d3.extent(featureValues.value, d=>d['timestamp']))\r\n//   });\r\n//\r\n//   let timeRange = [d3.min(_timerange,d=>d[0]), d3.max(_timerange, d=>d[1])];\r\n//   let dateRange = [new Date(timeRange[0] * 1000), new Date(timeRange[1] * 1000)];\r\n//\r\n//   this.xScale = d3.scaleTime().range([0, this.svgWidth - this.margin.left]).domain(dateRange);\r\n//   let xScale = this.xScale;\r\n//\r\n//\r\n//   var brush = d3.brushX()\r\n//     .extent([[0, 0], [this.svgWidth, this.svgHeight]])\r\n//     .on(\"end\", brushed);\r\n//\r\n//   this.context.append(\"g\").attr('transform', 'translate(' + [this.margin.left, 0]+')')\r\n//     .attr(\"class\", \"brush\")\r\n//     .call(brush)\r\n//     .call(brush.move, [0, this.svgWidth / 75]);\r\n//\r\n//\r\n//   var xAxis = d3.axisBottom().scale(this.xScale);\r\n//\r\n//   this.context.append('g')\r\n//     .attr('class', 'xAxis')\r\n//     .call(xAxis)\r\n//     .attr('transform', 'translate('+[this.margin.left, this.svgHeight - this.margin.bottom] +')');\r\n//\r\n//   function brushed() {\r\n//     if (d3.event.sourceEvent && d3.event.sourceEvent.type === \"zoom\") return; // ignore brush-by-zoom\r\n//     var s = d3.event.selection || _this.xScale.range();\r\n//     let filter_range = s.map(xScale.invert, xScale);\r\n//     _this.brushEnd([dateToSecs(filter_range[0]), dateToSecs(filter_range[1])])\r\n//   }\r\n// };\r\n\r\nexport default BrushPannel\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/feature/BrushPannel.js","<template>\r\n  <div>\r\n    <div class=\"mini_head\" style=\"position: relative\">Brush</div>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import BrushPannel from './BrushPannel.js'\r\n    import pipeService from '../../service/pipeService.js'\r\n    export default {\r\n        name: \"BrushPannel\",\r\n        props:[\"featureValues\", \"mean_error\"],\r\n        data() {\r\n            return {\r\n\r\n            }\r\n        },\r\n\r\n        watch:{\r\n            featureValues:function(new_data){\r\n                // this.handler.setData(new_data);\r\n            },\r\n\r\n            mean_error: function(new_data){\r\n              this.handler.render_error(new_data);  \r\n            }\r\n        },\r\n        mounted: function(){\r\n            this.handler = new BrushPannel(this.$el);\r\n            this.handler.on('brushEnd', this.handleBrushEnd);\r\n            this.handler.initTimeBrush();\r\n            \r\n        },\r\n        methods:{\r\n            handleBrushEnd(timerange){\r\n                pipeService.emitTimeRangeSelected(timerange);\r\n                //Here\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/feature/BrushPannel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mini_head\",staticStyle:{\"position\":\"relative\"}},[_vm._v(\"Brush\")]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f2ec32ee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/feature/BrushPannel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f2ec32ee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BrushPannel.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BrushPannel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BrushPannel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f2ec32ee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BrushPannel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f2ec32ee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/feature/BrushPannel.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boundary\",staticStyle:{\"display\":\"block\",\"position\":\"relative\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60618c72\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/statistics/Statistics.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60618c72\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Statistics.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Statistics.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Statistics.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60618c72\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Statistics.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60618c72\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/statistics/Statistics.vue\n// module id = null\n// module chunks = ","<template>\r\n  <!--<div style=\"display: block; position: relative\">-->\r\n  <!--<div style=\"height: 100%; width: 100%\" id='map_container'></div>-->\r\n  <!--<div style=\"position:absolute; left: 0px; top:0px; z-index: 999; font-size: 10px\" >Model Name: {{model_name}}</div>-->\r\n  <!--</div>-->\r\n  <div style=\"display: block; position: relative\" class=\"boundary\">\r\n    <div style=\"height: 100%; width: 100%\"></div>\r\n  </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n  import Stat from './statistics'\r\n\r\n\r\n  export default {\r\n    name: \"Info\",\r\n\r\n    data() {\r\n      return {\r\n\r\n      }\r\n    },\r\n\r\n    watch:{\r\n\r\n    },\r\n\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/statistics/Statistics.vue","/**\n * Created by qshen on 17/9/2019.\n */\n\n\nimport * as d3 from \"d3\";\n\nlet weekDay = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nlet HongKongStationList = [67, 68, 70, 74, 77, 78, 79, 80, 81, 82, 83, 84, 85, 87, 89, 90];\nlet HongKongStationMap = {};\nHongKongStationList.forEach(d=>HongKongStationMap[d] = true);\n\nlet format_date = function(date){\n  let month = date.getMonth() >= 9?date.getMonth() + 1:'0' + (date.getMonth() + 1);\n  let day = date.getDate() >= 10?date.getDate():'0' + date.getDate();\n  let hour = date.getHours() >= 10?date.getHours():'0' + date.getHours();\n  let string = date.getFullYear() + '-' + month + '-' + day + ' ' + hour +':00:00  ' + weekDay[date.getDay()];\n  return string;\n};\n\nlet FeatureHeatmap = function(el,featureObj) {\n\n  this.$el = el;\n  this.svgWidth = this.$el.clientWidth ;\n  this.svgHeight = this.$el.clientHeight;\n  this.svg = d3.select(el).append('svg').attr('width', this.svgWidth).attr('height', this.svgHeight);\n\n  this.margin = {'top': 20,'bottom': 50, 'left': 40, 'right':0};\n  // initial data\n  this.update(featureObj);\n\n  this.HongKongSatationIdMap = {};\n};\n\nFeatureHeatmap.prototype.update = function(featureObj){\n  let _value = featureObj['value'];\n  if(_value.length == 0){\n    console.log('No data collected!')\n    return\n  }\n  let _item = featureObj['value'][0];\n  this.station_list = [];\n  let HongKongStation = [];\n  let OtherStation = [];\n  for(let key in _item){\n    if(key == \"timestamp\") continue\n    if(HongKongStationMap[key] == true){\n      HongKongStation.push(key)\n    }else{\n      OtherStation.push(key)\n    }\n  }\n  this.station_list = HongKongStation.concat(OtherStation);\n\n  this.feature = featureObj['feature'];\n  this.valueArray = featureObj['value'];\n\n  console.log('featureObject', featureObj);\n\n  // console.log('station_ids', this.valueArray)\n  this.HongKongSatationIdMap = {};\n  if(this.feature == 'PM25'){\n    HongKongStationList.forEach(d=>{\n      this.HongKongSatationIdMap[d] = true;\n    })\n  }\n\n  this.renderHeatmap()\n};\n\nFeatureHeatmap.prototype.colors = [\n  \"#ffffd9\", \"#edf8b1\", \"#c7e9b4\", \"#7fcdbb\",\n  \"#41b6c4\", \"#1d91c0\", \"#225ea8\", \"#253494\",\n  \"#081d58\"\n];\n\nFeatureHeatmap.prototype.renderHeatmap = function(valueArray){\n  // Hard code\n\n  let _this = this;\n  this.stationTimeMap = {};\n  this.stationMap = {};\n  let rowHeight = (this.svgHeight - this.margin['top'] - this.margin['bottom']) / this.station_list.length;\n  let unitWidth = rowHeight;\n  // hard code\n\n  // start_time = start_time == undefined ?this.valueArray[0].timestamp: start_time;\n  // end_time = end_time == undefined ? this.valueArray[parseInt(this.svgWidth / unitWidth)].timestamp: end_time;\n  this.svg.selectAll('g').remove();\n  this.container = this.svg.append('g').attr('transform', 'translate(' + [this.margin.left, 0]+')');\n\n\n  valueArray = valueArray == undefined ? this.valueArray : valueArray;\n  let rowContainer = this.container.selectAll('.row').data(this.station_list).enter().append('g').attr('class', 'row')\n    .attr('transform',(d, i) => {\n      let gap = i >= HongKongStationList.length?10:0\n      return 'translate('+[0,rowHeight * i + gap] + ')'\n    });\n\n  let renderList = [];\n  if(valueArray == undefined) return\n  valueArray.forEach((d,i)=>{\n    // if(d.timestamp > start_time && d.timestamp < end_time){\n    //   renderList.push(d)\n    // }\n    renderList.push(d)\n  });\n\n  let _maxArray = [];\n  this.station_list.forEach(station_id=>{\n    _maxArray.push(d3.max(valueArray, d=>d[station_id]));\n  });\n\n  let maxFeaturValue = d3.max(_maxArray);\n\n  let timeRange = d3.extent(renderList, d=>d['timestamp']);\n\n  let xScale = d3.scaleLinear().domain(timeRange).range([0, _this.svgWidth - _this.margin['right'] - _this.margin.left - 10]);\n\n\n  let colorBucketes = this.colors.length;\n  let domain = []\n  if(this.feature == 'PM25'){\n    domain = [0, 10, 20, 30, 40, 50, 60, 70, 80, 90]\n    maxFeaturValue = 100;\n  }else if(this.feature == 'wind'){\n    domain = [0,2,4,6,8,10,12,14,16]\n    maxFeaturValue = 10;\n  }else if(this.feature == 'windDir'){\n    domain = [18,36,54,72,90,108,126,144,162]\n    maxFeaturValue = 180;\n  }\n  let colorScale = d3.scaleQuantile()\n  // .domain([0, colorBucketes - 1, maxFeaturValue])\n    .domain(domain)\n    .range(this.colors);\n\n\n  rowContainer.each(function(stationId, row_i){\n    let _container = d3.select(this);\n\n    if(_this.HongKongSatationIdMap[stationId] == true){\n      _container.append('circle').attr('cx', -1 * 1 * unitWidth).attr('cy', unitWidth / 2).attr('r',unitWidth / 3).attr('fill','grey')\n    }\n\n    if(_this.stationTimeMap[stationId] == undefined){\n      _this.stationTimeMap[stationId] = {}\n    }\n    let featureRange = d3.extent(renderList, d=>d[stationId]);\n    let cell_containers = _container.selectAll('.cell').data(renderList).enter().append('g').attr('class', 'cell')\n      .attr('transform', d => 'translate(' + [xScale(d.timestamp), 0] + ')')\n\n    cell_containers.each(function(d, col_j){\n      if(_this.stationTimeMap[stationId][d.timestamp] == undefined){\n        _this.stationTimeMap[stationId][d.timestamp] = {};\n      }\n      let gap = row_i >= HongKongStationList.length?10:0\n      _this.stationTimeMap[stationId][d.timestamp]['e'] = this;\n      _this.stationTimeMap[stationId][d.timestamp]['x'] = xScale(d.timestamp);\n      _this.stationTimeMap[stationId][d.timestamp]['y'] = row_i*rowHeight+gap;\n    });\n\n    let rects = cell_containers.append('rect')\n      .attr('width',unitWidth)\n      .attr('height', rowHeight)\n      .attr('fill', d=>{\n        if(d[stationId] == 'null' || d[stationId] == null){\n          return '#d4d4d4'\n        }\n        return colorScale(d[stationId]);\n      })\n      .attr('rx', unitWidth / 5)\n      .attr('stroke', 'white')\n      .attr('stroke-width', 1);\n\n    rects.append('title').text(d=>{\n      let value = d[stationId];\n      if(d[stationId] == null || d[stationId] == 'null'){\n        value = 'Null'\n      }\n      else{\n        value = parseInt(value * 100) / 100;\n      }\n      // return d.timestamp;\n      return 'Id: '+ stationId + ' error: ' + value + '\\nTimestamp: ' + format_date(new Date(d.timestamp * 1000));\n    });\n    rects.on('mouseover', function(d){\n      _this.mouseover({\n        'timestamp': d.timestamp,\n        'stationId': stationId\n      });\n    });\n    rects.on('mouseout', function(d){\n      _this.mouseout({\n        'timestamp': d.timestamp,\n        'stationId': stationId\n      });\n    });\n    rects.on('click', function(d){\n      _this.click({\n        'timestamp': d.timestamp,\n        'stationId': stationId\n      })\n    })\n  });\n\n  this.HightLightRowRect = this.container.append('rect').attr('fill', 'none')\n    .attr('stroke', '#fd8d3c').attr('width', this.svgWidth - this.margin['left']- this.margin['right']).attr('height', unitWidth).attr('stroke-width', 0);\n  this.HightLightColumnRect = this.container.append('rect').attr('fill', 'none')\n    .attr('stroke', '#fd8d3c').attr('width', unitWidth).attr('height', this.svgHeight - this.margin['top'] - this.margin['bottom']).attr('stroke-width', 0);\n\n\n  let rowRects = rowContainer.append('rect').attr('fill', 'none')\n    .attr('stroke', 'red').attr('width', _this.svgWidth - _this.margin['left']- _this.margin['right']).attr('height', unitWidth).attr('stroke-width', 0);\n  rowRects.each(function(stationId){\n    _this.stationMap[stationId] = this;\n  })\n\n\n\n\n  var blueColor = d3.rgb('#1f78b4')\n  var yellowColor = d3.rgb('#ffffb3');\n  var redColor = d3.rgb('#e41a1c');\n\n  var computeColor = d3.interpolate(blueColor, yellowColor);\n  var computeColor2 = d3.interpolate(yellowColor, redColor);\n  var linearColor = d3.scaleLinear()\n    .domain([0, 20])\n    .range([0, 1])\n  var linearColor2 = d3.scaleLinear()\n    .domain([20, 40])\n    .range([0, 1])\n\n\n  var gradientLegendGroup = this.svg.append('g')\n    .attr('class', 'gradient_legend_group')\n\n\n\n  var gradientLegend = gradientLegendGroup.append('defs')\n    .append('linearGradient')\n    .attr('id', 'gradient_legend')\n    .attr('x1', '0%') // bottom\n    .attr('y1', '0%')\n    .attr('x2', '100%') // to top\n    .attr('y2', '0%')\n    .attr('spreadMethod', 'pad')\n\n\n  gradientLegend.append('stop')\n    .attr('offset', '0%')\n    .attr('stop-color', '#ffffd9')\n    .attr('stop-opacity', 1)\n\n  gradientLegend.append('stop')\n    .attr('offset', '10%')\n    .attr('stop-color', '#edf8b1')\n    .attr('stop-opacity', 1)\n\n  gradientLegend.append('stop')\n    .attr('offset', '20%')\n    .attr('stop-color', '#c7e9b4')\n    .attr('stop-opacity', 1)\n\n  gradientLegend.append('stop')\n    .attr('offset', '30%')\n    .attr('stop-color', '#7fcdbb')\n    .attr('stop-opacity', 1)\n\n\n  gradientLegend.append('stop')\n    .attr('offset', '40%')\n    .attr('stop-color', '#41b6c4')\n    .attr('stop-opacity', 1)\n\n  gradientLegend.append('stop')\n    .attr('offset', '50%')\n    .attr('stop-color', '#1d91c0')\n    .attr('stop-opacity', 1)\n\n  gradientLegend.append('stop')\n    .attr('offset', '60%')\n    .attr('stop-color', '#225ea8')\n    .attr('stop-opacity', 1)\n\n  gradientLegend.append('stop')\n    .attr('offset', '90%')\n    .attr('stop-color', '#253494')\n    .attr('stop-opacity', 1)\n\n  gradientLegend.append('stop')\n    .attr('offset', '100%')\n    .attr('stop-color', '#081d58')\n    .attr('stop-opacity', 1)\n\n\n  let test = 220\n  let width = this.svgWidth/2\n  let height = this.svgHeight - 50\n  let height2 = this.svgHeight - 35\n\n  gradientLegendGroup.append('rect')\n    .attr('width', 180)\n    .attr('height', 15)\n    .style('fill', 'url(#gradient_legend)')\n    .attr('transform', \"translate(\" + width + \",\" + height + \")\")\n\n  var gradientLegendScale = d3.scaleLinear()\n    .domain([100, 0])\n    .range([180, 0])\n\n  var gradientLegendAxis = d3.axisBottom()\n    .scale(gradientLegendScale)\n    .ticks(6)\n\n  gradientLegendGroup.append('g')\n    .attr('class', 'gradient legend axis')\n    .attr('transform', \"translate(\" + width + \",\" + height2 + \")\")\n    .call(gradientLegendAxis)\n    .append('text')\n    .attr('transform', 'rotate(90)')\n    .attr('y', 0)\n    .attr('dy', '.71em')\n    .style('text-anchor', 'end')\n    .text('axis title')\n};\n\nFeatureHeatmap.prototype.on = function(msg, func){\n  if(msg == 'mouseover'){\n    this.mouseover = func;\n  }else if(msg == 'mouseout'){\n    this.mouseout = func;\n  }else if(msg == 'click'){\n    this.click = func;\n  }\n};\n\nFeatureHeatmap.prototype.onMouseInter = function(msg){\n  let timestamp = msg['timestamp'];\n  let stationId = msg['stationId'];\n  let dataObj = this.stationTimeMap[stationId][timestamp]\n  if(dataObj == undefined){\n    return\n  }\n  // let element = dataObj['e'];\n  // for(let key in this.stationMap){\n  //   d3.select(this.stationMap[key]).attr('stroke-width', 0.0);\n  // }\n  // d3.select(this.stationMap[stationId]).attr('stroke-width', 0.5);\n  this.HightLightRowRect.attr('y', dataObj['y']).attr('stroke-width', 0.5);\n  this.HightLightColumnRect.attr('x', dataObj['x']).attr('stroke-width', 0.5);\n  // let element = dataObj['e'];\n  // if(msg['action'] == 'over'){\n  //   d3.select(element).select('rect').attr('stroke', 'red');\n  // }else if(msg['action'] == 'out'){\n  //   d3.select(element).select('rect').attr('stroke', 'white');\n  // }\n};\n\n\nFeatureHeatmap.prototype.updateByTimeRange = function(timeRange){\n  // this.renderHeatmap(timeRange[0], timeRange[1]);\n};\n\nexport default FeatureHeatmap\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/feature/FeatureHeatmap.js","<template>\r\n  <!--<div style=\"display: block; position: relative\">-->\r\n  <!--<div style=\"height: 100%; width: 100%\" id='map_container'></div>-->\r\n  <!--<div style=\"position:absolute; left: 0px; top:0px; z-index: 999; font-size: 10px\" >Model Name: {{model_name}}</div>-->\r\n  <!--</div>-->\r\n  <div style=\"display: block; position: relative\" class=\"boundary\">\r\n    <div class=\"mini_head\">{{item.feature}}</div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    import FeatureHeatmap from './FeatureHeatmap.js'\r\n    import pipeService from '../../service/pipeService.js'\r\n    export default {\r\n        name: \"FeatureValue\",\r\n        props:[\"item\"],\r\n        data() {\r\n            return {\r\n              type: null\r\n            }\r\n        },\r\n\r\n        watch:{\r\n            item:function(){\r\n                console.log('item changed', this.item);\r\n                this.handler.update(this.item)\r\n            }\r\n        },\r\n        mounted: function(){\r\n            console.log('item', this.item);\r\n            if(this.item.feature == 'PM25'){\r\n                this.type = 'AQ'\r\n            }else if(this.item.feature == 'Wind' || this.item.feature == 'WindDir' ){\r\n                this.type = 'Mete'\r\n            }\r\n            this.handler = new FeatureHeatmap(this.$el, this.item);\r\n            this.handler.on('mouseover', this.handleMouseover);\r\n            this.handler.on('mouseout', this.handleMouseout);\r\n            this.handler.on('click', this.handleMouseClick);\r\n            pipeService.onMouseOverCell(msg=>{\r\n                this.handler.onMouseInter(msg)\r\n            })\r\n            pipeService.onTimeRangeSelected(timerange=>{\r\n                this.handler.updateByTimeRange(timerange);\r\n            })\r\n        },\r\n        methods:{\r\n            handleMouseover(msg){\r\n                msg['action'] = 'over';\r\n                msg['type'] = this.type;\r\n                pipeService.emitMouseOverCell(msg)\r\n            },\r\n            handleMouseout(msg){\r\n                msg['action'] = 'out';\r\n                msg['type'] = this.type;\r\n                pipeService.emitMouseOverCell(msg)\r\n            },\r\n            handleMouseClick(msg){\r\n                msg['action'] = 'click';\r\n                msg['type'] = this.type;\r\n                pipeService.emitMouseOverCell(msg)\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/feature/FeatureHeatmap.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boundary\",staticStyle:{\"display\":\"block\",\"position\":\"relative\"}},[_c('div',{staticClass:\"mini_head\"},[_vm._v(_vm._s(_vm.item.feature))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a7878a48\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/feature/FeatureHeatmap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a7878a48\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FeatureHeatmap.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FeatureHeatmap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FeatureHeatmap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a7878a48\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FeatureHeatmap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a7878a48\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/feature/FeatureHeatmap.vue\n// module id = null\n// module chunks = ","import * as d3 from 'd3'\r\nimport {limitTimeRange} from \"element-ui/src/utils/date-util\";\r\n\r\nlet BrushLineChart = function(el){\r\n\r\n  let _this = this;\r\n  this.$el = el;\r\n  this.svgWidth = this.$el.clientWidth ;\r\n  this.svgHeight = this.$el.clientHeight - 20;\r\n  this.svg = d3.select(el).append('svg').attr('width', this.svgWidth).attr('height', this.svgHeight);\r\n  this.margin = {'top': 20,'bottom': 20, 'left': 40, 'right':0};\r\n\r\n};\r\nfunction toDateTime(secs) {\r\n  // var t = new Date(1970, 0, 1); // Epoch\r\n  // t.setSeconds(secs);\r\n  return new Date(parseInt(secs) * 1000);\r\n}\r\n\r\nBrushLineChart.prototype.set_currentTIme = function(data){\r\n\r\n\r\n};\r\n\r\n\r\nBrushLineChart.prototype.setTimeRange = function(timerange){\r\n  this.timerange = timerange;\r\n  if(this.data){\r\n    this.render();\r\n  }\r\n};\r\nBrushLineChart.prototype.render = function(){\r\n  let data = [];\r\n  this.data.forEach(d=>{\r\n    if(d.timestamp > this.timerange[0] && d.timestamp < this.timerange[1]){\r\n      d['time'] = new Date(d.timestamp * 1000);\r\n      data.push(d)\r\n    }\r\n  });\r\n  this.svg.selectAll('g').remove();\r\n  this.container = this.svg.append('g');\r\n  var xExtent = d3.extent(data, d => d.time);\r\n  var xScale = d3.scaleTime()\r\n    .domain(xExtent).range([0, this.svgWidth - this.margin.right - this.margin.left]);\r\n\r\n  this.xScale = xScale;\r\n  var xAxis = d3.axisBottom().scale(xScale).tickFormat(d=>{\r\n    // console.log('ddd', d, typeof (d));\r\n    return   d.getFullYear() + '/' + (d.getMonth() + 1) + '/' + d.getDate() + ' ' +  d.getHours() + \":00\"\r\n    // return d\r\n  })\r\n\r\n  var yMax = d3.max([d3.max(data, d => d.val_aq), d3.max(data, d => d.val_cmaq)]);\r\n  this.yMax = yMax;\r\n  this.yMax = 100; // Given by domain expert\r\n  var yScale = d3.scaleLinear()\r\n    .domain([0,  this.yMax]).range([this.svgHeight - this.margin.bottom, this.margin.top]);\r\n  var yAxis = d3.axisLeft().scale(yScale);\r\n\r\n  var cmaq_line = d3.line()\r\n    .x(d => xScale(d.time))\r\n    .y(d => {\r\n      if(d.val_cmaq == null || d.val_cmaq == 'null'){\r\n        return  yScale(0)\r\n      }\r\n      return yScale(d.val_cmaq)\r\n    });\r\n\r\n  let cmaq_contaienr = this.container.append('g').attr('transform', 'translate(' + [this.margin.left, 0]+')');\r\n  cmaq_contaienr.selectAll('path')\r\n    .data([data]).enter().append('path')\r\n    .attr('d', cmaq_line)\r\n    .attr('fill', 'none')\r\n    .attr('stroke', 'blue');\r\n\r\n  cmaq_contaienr.append('g')\r\n    .attr('class', 'xAxis')\r\n    .call(xAxis)\r\n    .attr('transform', 'translate('+[0, this.svgHeight - this.margin.bottom] +')');\r\n\r\n  cmaq_contaienr.append('g')\r\n    .attr('class', 'yAxis')\r\n    .call(yAxis);\r\n\r\n  let obs_container = this.container.append('g').attr('transform', 'translate(40,0)');\r\n\r\n  obs_container.selectAll('circle')\r\n    .data(data).enter().append('circle')\r\n    .attr('cx', d=>xScale(d.time))\r\n    .attr('cy', d=>{\r\n      if(d.val_aq == 'null' || d.val_aq == undefined){\r\n        return yScale(this.yMax);\r\n      }\r\n      return yScale(d.val_aq)\r\n    })\r\n    .attr('r',1.5)\r\n    .attr('fill', d=>{\r\n      if(d.val_aq == 'null' || d.val_aq == undefined){\r\n        return 'grey'\r\n      }\r\n      return 'red'\r\n    });\r\n\r\n\r\n  this.currentTimeLine = obs_container.append('line')\r\n    .attr('stroke-width', 0)\r\n    .attr(\"x1\", 0).attr(\"y1\",0).attr(\"x2\", 0).attr(\"y2\", 0);\r\n};\r\nBrushLineChart.prototype.setData = function(data){\r\n  this.data  = data;\r\n  this.render();\r\n};\r\n\r\nBrushLineChart.prototype.setCurrentTimestamp = function(t){\r\n  if(this.data == undefined || this.data == null || this.currentTimeLine == undefined){\r\n    return\r\n  }\r\n  let x = this.xScale(new Date(t * 1000));\r\n  this.currentTimeLine.style(\"stroke\", '#984a23').attr('stroke-width', 1)\r\n    .attr(\"x1\", x).attr(\"y1\", this.margin['top']).attr(\"x2\", x).attr(\"y2\", this.svgHeight - this.margin['bottom']);\r\n\r\n};\r\n\r\nexport default BrushLineChart\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/feature/linechart.js","<template>\r\n  <div class=\"boundary\">\r\n    <div class=\"mini_head\">Obs VS CMAQ</div>\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import BrushLineChart from './linechart.js'\r\n\r\n    import pipeService from '../../service/pipeService.js'\r\n    import dataService from '../../service/dataService.js'\r\n    export default {\r\n        name: \"LineChart\",\r\n        props:[\"currentTime\"],\r\n        mounted:function(){\r\n            this.LineChart = new BrushLineChart(this.$el);\r\n\r\n            pipeService.onMouseOverCell(msg=>{\r\n                if(msg['action'] == 'click'){\r\n                    this.queryModelObs(msg['stationId']);\r\n                }\r\n\r\n            })\r\n\r\n            pipeService.onTimeRangeSelected(timerange=>{\r\n                this.LineChart.setTimeRange(timerange);\r\n            })\r\n\r\n        },\r\n        watch:{\r\n            currentTime(t){\r\n                this.LineChart.setCurrentTimestamp(t);\r\n            }\r\n        },\r\n        methods:{\r\n            queryModelObs(stationId){\r\n                dataService.loadCMAQOBSData(stationId, d=>{\r\n                    this.LineChart.setData(d);\r\n                })\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n  /*svg{*/\r\n  /*height: 100%;*/\r\n  /*width: 100%*/\r\n  /*}*/\r\n  .line {\r\n\r\n  }\r\n  .zoom {\r\n    cursor: move;\r\n    fill: none;\r\n    pointer-events: all;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/feature/TargetFeatureValue.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"boundary\"},[_c('div',{staticClass:\"mini_head\"},[_vm._v(\"Obs VS CMAQ\")]),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2cdcb75f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/feature/TargetFeatureValue.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2cdcb75f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TargetFeatureValue.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TargetFeatureValue.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TargetFeatureValue.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2cdcb75f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TargetFeatureValue.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2cdcb75f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/feature/TargetFeatureValue.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"mainview\">\r\n    <el-row :gutter=\"10\" class=\"horizontal_stripe\">\r\n      <el-col :span=\"8\" class=\"left\">\r\n        <AQMap v-bind:stations=\"AQStations\"\r\n               v-bind:centerLoc=\"centerLoc\"\r\n               v-bind:AQFeatureValue=\"AQFeatureValue\"\r\n               v-bind:CMAQFeatureValue=\"CMAQFeatureValue\"\r\n               v-bind:currentTime=\"currentTime\"\r\n               v-loading=\"AQMapLoading\"\r\n               element-loading-text=\"Loading\"\r\n               element-loading-background=\"rgba(0, 0, 0, 0.7)\"\r\n               style=\"height: 50%; width: 100%\"\r\n        />\r\n        <MeteMap v-bind:stations=\"meteStations\"\r\n                 v-bind:centerLoc=\"centerLoc\"\r\n                 v-bind:WindFeatureValue = \"WindFeatureValue\"\r\n                 v-bind:WindWRFFeatureValue = \"WindWRFFeatureValue\"\r\n                 v-bind:WindDirFeatureValue = \"WindDirFeatureValue\"\r\n                 v-bind:WindDirWRFFeatureValue = \"WindDirWRFFeatureValue\"\r\n                 v-bind:currentTime=\"currentTime\"\r\n                 v-loading=\"MeteMapLoading\"\r\n                 element-loading-text=\"Loading\"\r\n                 element-loading-background=\"rgba(0, 0, 0, 0.7)\"\r\n                 style=\"height: 50%; width: 100%\"/>\r\n      </el-col>\r\n      <el-col :span=\"16\" class=\"right\">\r\n        <BrushPannel v-bind:featureValues='featureValues' v-bind:mean_error='mean_error' style=\"width: 100%; height: 8%;position: relative;\" class=\"boundary\">\r\n          <div style=\"font-size: 10px; position:absolute; right: 0px\">Username: {{username}}</div>\r\n        </BrushPannel>\r\n        <TargetFeatureValue style=\"width: 100%; height: 17%; position: relative\" class=\"boundary\"\r\n                            v-loading=\"AQMapLoading\"\r\n                            v-bind:currentTime=\"currentTime\"\r\n                            element-loading-text=\"Loading\"\r\n                            element-loading-background=\"rgba(0, 0, 0, 0.4)\">\r\n          <div style=\"position: absolute; right: 10px; top: 25px\" >\r\n            <el-button type=\"success\" icon=\"el-icon-video-play\" size=\"mini\"  v-bind:disabled=\"buttonDisable\" v-on:click=\"playAnimation\" plain></el-button>\r\n            <el-button type=\"success\"  icon=\"el-icon-video-pause\" size=\"mini\"  v-bind:disabled=\"buttonDisable\" v-on:click=\"stopAnimation\" plain></el-button>\r\n          </div>\r\n        </TargetFeatureValue>\r\n        <div style=\"width: 100%; height: calc(75%); \" class=\"boundary\"\r\n             v-loading=\"AQMapLoading\"\r\n             v-bind:currentTime=\"currentTime\"\r\n             element-loading-text=\"Loading\"\r\n             element-loading-background=\"rgba(0, 0, 0, 0.4)\" >\r\n          <FeatureHeatmap style=\"width: 100%; height: calc(100% );\" v-for=\"item in featureValues\" v-bind:item=\"item\" v-bind:key=\"item.feature\">\r\n            {{item.feature}}\r\n          </FeatureHeatmap>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-dialog\r\n      title=\"Enter username:\" center\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"20%\"\r\n      :before-close=\"handleClose\">\r\n      <span>Please input your user name:</span>\r\n      <el-input size = \"mini\" style=\"margin-top: 25px\"  v-model=\"username\" placeholder=\"User name:\"></el-input>\r\n      <span  slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button style=\"margin-top: -10px\" size = \"mini\" type=\"primary\" @click=\"handleClose\">Confirm</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import AQMap from './map/AQMap.vue'\r\n    import MeteMap from './map/MeteMap.vue'\r\n    import BrushPannel from './feature/BrushPannel.vue'\r\n    import pipeService from '../service/pipeService.js'\r\n    import dataService from '../service/dataService.js'\r\n    import Statistics from './statistics/Statistics.vue'\r\n    import FeatureHeatmap from './feature/FeatureHeatmap.vue'\r\n    import TargetFeatureValue from './feature/TargetFeatureValue.vue'\r\n\r\n    export default {\r\n        name: 'MainView',\r\n        data () {\r\n            return {\r\n                station: {\r\n                    'station_id': 'KC_A',\r\n                    'station_name': 'Kwai Chung ' + 'Station',\r\n                    'location':[22.3586, 114.1271]\r\n                },\r\n                msg: 'Welcome to Your Vue.js App',\r\n                featureValues:[],\r\n                mean_error:[],\r\n                AQStations:[],\r\n                meteStations:[],\r\n                centerLoc:{loc: [22.3586, 114.1271]},\r\n                AQFeatureValue: null,\r\n                CMAQFeatureValue: null,\r\n                WindFeatureValue: null,\r\n                WindWRFFeatureValue: null,\r\n                WindDirFeatureValue: null,\r\n                WindDirWRFFeatureValue: null,\r\n                currentTime: null,\r\n                timeRange:[],\r\n                AQMapLoading: true,\r\n                MeteMapLoading: true,\r\n                FeatureValueLoading: true,\r\n                AQDataN: 0,\r\n                MeteDataN: 0,\r\n                timeHandler:null,\r\n                buttonDisable: false,\r\n                mapReadyN:0,\r\n                dialogVisible: true,\r\n                username:''\r\n            }\r\n        },\r\n        mounted: function(){\r\n            /*\r\n            * Previous version 0\r\n            * */\r\n            let para = null;\r\n            para = {'startTime': null, 'endTime': null}\r\n\r\n            dataService.loadMeanError({'startTime': 1451739600, 'endTime': 1546261200}, (data)=>{\r\n                this.mean_error = data;\r\n            });\r\n\r\n            pipeService.onTimeRangeSelected(range=>{\r\n\r\n                this.AQMapLoading = true;\r\n                this.MeteMapLoading = true;\r\n                this.FeatureValueLoading = true;\r\n                para = {'startTime': range[0], 'endTime': range[1]};\r\n\r\n                dataService.loadFeatureData(para, (data)=>{\r\n                    this.featureValues = data;\r\n                    this.FeatureValueLoading = false;\r\n                });\r\n\r\n                this.timeRange = range;\r\n                this.AQDataN = 0;\r\n                this.MeteDataN = 0;\r\n                this.mapReadyN = 0;\r\n                para = {'ids': 'all', 'feature': 'PM25', 'timeRange': 1, 'startTime': range[0], 'endTime': range[1]}\r\n                dataService.loadFeatureValue(para, (data)=>{\r\n                    this.AQFeatureValue = data;\r\n                    this.AQDataN += 1;\r\n                });\r\n\r\n                dataService.loadModelValue(para, (data)=>{\r\n\r\n                    this.CMAQFeatureValue = data;\r\n                    this.AQDataN += 1;\r\n                });\r\n\r\n                para = {'ids': 'all', 'feature': 'wind', 'timeRange': 1, 'startTime': range[0], 'endTime': range[1]}\r\n                dataService.loadFeatureValue(para, (data)=>{\r\n                    this.WindFeatureValue = data;\r\n                    this.MeteDataN +=1;\r\n                });\r\n\r\n                dataService.loadModelValue(para, (data)=>{\r\n                    this.WindWRFFeatureValue = data;\r\n                    this.MeteDataN +=1;\r\n                });\r\n\r\n                para = {'ids': 'all', 'feature': 'winddir', 'timeRange': 1, 'startTime': range[0], 'endTime': range[1]}\r\n                dataService.loadFeatureValue(para, (data)=>{\r\n                    this.WindDirFeatureValue = data;\r\n                    this.MeteDataN +=1;\r\n                });\r\n\r\n                dataService.loadModelValue(para, (data)=>{\r\n                    this.WindDirWRFFeatureValue = data;\r\n                    this.MeteDataN +=1;\r\n                });\r\n            });\r\n\r\n            // Done\r\n            dataService.loadAQStations((AQStations)=>{\r\n                this.AQStations = AQStations;\r\n            });\r\n\r\n            dataService.loadMeteStations((meteStations)=>{\r\n                this.meteStations = meteStations;\r\n            });\r\n\r\n\r\n\r\n\r\n            // version 0 --- end\r\n            pipeService.onMouseOverCell(msg=>{\r\n                if(msg['action'] == 'click'){\r\n                    this.AQStations.forEach(d=>{\r\n                        if(d.id == msg['stationId']){\r\n                            this.centerLoc= {\r\n                                'loc':[d.latitude, d.longitude]\r\n                            }\r\n                        }\r\n                    })\r\n                }else if(msg['action'] == 'over'){\r\n                    this.currentTime = msg['timestamp'];\r\n                    let i = 0;\r\n\r\n                }\r\n            })\r\n        },\r\n        watch:{\r\n            AQDataN:function(n){\r\n                if(n == 2){\r\n                    this.AQMapLoading = false;\r\n                    this.mapReadyN += 1;\r\n                }\r\n            },\r\n            MeteDataN:function(n){\r\n                if(n == 4){\r\n                    this.MeteMapLoading = false;\r\n                    this.FeatureValueLoading = false;\r\n                    this.mapReadyN += 1;\r\n                }\r\n            },\r\n            mapReadyN: function(n){\r\n                if(n == 2){\r\n                    this.buttonDisable = false\r\n                }else{\r\n                    this.buttonDisable = true\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            playAnimation:function(){\r\n                let _this = this;\r\n                this.timeHandler = setInterval(()=>{\r\n                    if(_this.currentTime == undefined){\r\n                        _this.currentTime = _this.timeRange[0]\r\n                    }\r\n                    this.currentTime  = this.currentTime + 3600;\r\n                    if(this.currentTime >= this.timeRange[1]){\r\n                        clearInterval(this.timeHandler);\r\n                    }\r\n\r\n                }, 1000)\r\n            },\r\n            stopAnimation: function(){\r\n                if(this.timeHandler){\r\n                    clearInterval(this.timeHandler);\r\n                }\r\n\r\n            },\r\n            handleClose(done) {\r\n                console.log('log username', this.username);\r\n                if(this.username == '' || this.username == null || this.username == 'null'){\r\n                    this.$confirm('Use system without username? Your labeling will not be recorded.')\r\n                        .then(_ => {\r\n                            this.dialogVisible = false\r\n                            done();\r\n                        })\r\n                        .catch(_ => {\r\n                            // cancel\r\n                            });\r\n                }else{\r\n                    this.dialogVisible = false;\r\n                }\r\n\r\n            }\r\n        },\r\n\r\n        components:{\r\n            AQMap,\r\n            MeteMap,\r\n            Statistics,\r\n            FeatureHeatmap,\r\n            BrushPannel,\r\n            TargetFeatureValue\r\n        }\r\n    }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\n  .mainview{\r\n    /*background: #efedf2;*/\r\n    height: 100%;\r\n  }\r\n  .horizontal_stripe{\r\n    height: 100%;\r\n  }\r\n  .left{\r\n    height: 100%;\r\n  }\r\n  .right{\r\n    height: 100%;\r\n    /*background-color: #e3ebf2;*/\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/MainView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainview\"},[_c('el-row',{staticClass:\"horizontal_stripe\",attrs:{\"gutter\":10}},[_c('el-col',{staticClass:\"left\",attrs:{\"span\":8}},[_c('AQMap',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.AQMapLoading),expression:\"AQMapLoading\"}],staticStyle:{\"height\":\"50%\",\"width\":\"100%\"},attrs:{\"stations\":_vm.AQStations,\"centerLoc\":_vm.centerLoc,\"AQFeatureValue\":_vm.AQFeatureValue,\"CMAQFeatureValue\":_vm.CMAQFeatureValue,\"currentTime\":_vm.currentTime,\"element-loading-text\":\"Loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.7)\"}}),_vm._v(\" \"),_c('MeteMap',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.MeteMapLoading),expression:\"MeteMapLoading\"}],staticStyle:{\"height\":\"50%\",\"width\":\"100%\"},attrs:{\"stations\":_vm.meteStations,\"centerLoc\":_vm.centerLoc,\"WindFeatureValue\":_vm.WindFeatureValue,\"WindWRFFeatureValue\":_vm.WindWRFFeatureValue,\"WindDirFeatureValue\":_vm.WindDirFeatureValue,\"WindDirWRFFeatureValue\":_vm.WindDirWRFFeatureValue,\"currentTime\":_vm.currentTime,\"element-loading-text\":\"Loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.7)\"}})],1),_vm._v(\" \"),_c('el-col',{staticClass:\"right\",attrs:{\"span\":16}},[_c('BrushPannel',{staticClass:\"boundary\",staticStyle:{\"width\":\"100%\",\"height\":\"8%\",\"position\":\"relative\"},attrs:{\"featureValues\":_vm.featureValues,\"mean_error\":_vm.mean_error}},[_c('div',{staticStyle:{\"font-size\":\"10px\",\"position\":\"absolute\",\"right\":\"0px\"}},[_vm._v(\"Username: \"+_vm._s(_vm.username))])]),_vm._v(\" \"),_c('TargetFeatureValue',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.AQMapLoading),expression:\"AQMapLoading\"}],staticClass:\"boundary\",staticStyle:{\"width\":\"100%\",\"height\":\"17%\",\"position\":\"relative\"},attrs:{\"currentTime\":_vm.currentTime,\"element-loading-text\":\"Loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.4)\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"10px\",\"top\":\"25px\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-video-play\",\"size\":\"mini\",\"disabled\":_vm.buttonDisable,\"plain\":\"\"},on:{\"click\":_vm.playAnimation}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-video-pause\",\"size\":\"mini\",\"disabled\":_vm.buttonDisable,\"plain\":\"\"},on:{\"click\":_vm.stopAnimation}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.AQMapLoading),expression:\"AQMapLoading\"}],staticClass:\"boundary\",staticStyle:{\"width\":\"100%\",\"height\":\"calc(75%)\"},attrs:{\"currentTime\":_vm.currentTime,\"element-loading-text\":\"Loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.4)\"}},_vm._l((_vm.featureValues),function(item){return _c('FeatureHeatmap',{key:item.feature,staticStyle:{\"width\":\"100%\",\"height\":\"calc(100% )\"},attrs:{\"item\":item}},[_vm._v(\"\\n          \"+_vm._s(item.feature)+\"\\n        \")])}),1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"Enter username:\",\"center\":\"\",\"visible\":_vm.dialogVisible,\"width\":\"20%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_vm._v(\"Please input your user name:\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"margin-top\":\"25px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"User name:\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{staticStyle:{\"margin-top\":\"-10px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.handleClose}},[_vm._v(\"Confirm\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1590028c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MainView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1590028c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MainView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1590028c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MainView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MainView.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <MainView/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import MainView from './components/MainView.vue'\r\n    export default {\r\n        name: 'App',\r\n        components: {\r\n            MainView\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n  #app {\r\n    font-family: \"Helvetica Neue\",Helvetica,\"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"\",Arial,sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    color: #2c3e50;\r\n    height: calc(98vh - 0px);\r\n  }\r\n  .boundary{\r\n    border-style: dashed;\r\n    border-color: #d3dce6;\r\n    border-width: 1px;\r\n  }\r\n\r\n  .mini_head{\r\n    font-family: \"monospace\", \"Helvetica Neue\",Helvetica,\"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"\",Arial,sans-serif;\r\n    background: rgb(243,243,243);\r\n    width: 100%;\r\n    height: 20px;\r\n    font-size: 13px;\r\n    padding-left: 3px;\r\n  }\r\n  .mini_title{\r\n    font-family: 'monospace';\r\n    height: 20px;\r\n    font-size: 13px;\r\n    padding-left: 3px;\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('MainView')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61656261\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61656261\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61656261\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n// import HelloWorld from '@/components/HelloWorld'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'HelloWorld',\r\n      // component: HelloWorld\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\n\r\n\r\nimport ElementUI from 'element-ui'\r\n\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\n\r\nimport locale from 'element-ui/lib/locale/lang/en'\r\n\r\n\r\nVue.config.productionTip = false\r\nVue.use(ElementUI, { locale})\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}